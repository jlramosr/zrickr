<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/paper-menu/paper-menu.html">
<link rel="import" href="../../bower_components/iron-flex-layout/iron-flex-layout-classes.html">
<link rel="import" href="zrickr-drawer-content-item.html">

<!--
`<zrickr-drawer-content>` is the element of the drawer content with all menus

Example:

  <zrickr-drawer-content
    items="{{collections}}"
    primary-item-menu-name="My Collections"
    secondary-item-menu-name="My Shared Collections"
    item-name="collection"
    subitem-name="zrickr">
  </zrickr-drawer-content>

If we don't want a secondary menu for more items we haven't put the
`secondary-item-menu-name` property or let empty `items` array

@element zrickr-drawer-content
@demo ../../elements/zrickr-drawer/demo/index.html
-->

<dom-module id="zrickr-drawer-content">
  <style include="iron-flex iron-flex-alignment">
    :host {
      @apply(--layout-vertical);
      height: 100%;
      min-height: 240px; //(48x5);
    }

    paper-menu {
      padding: 0px;
    }

    .main {
      @apply(--layout-vertical);
      display: block;
    }

    .secondary {
      @apply(--layout-vertical);
      margin-top: auto;
      display: block;
    }
  </style>

  <template>
    <paper-menu class="main">
      <zrickr-drawer-content-item
        icon="image:view-comfy"
        item-menu-name="[[primaryItemMenuName]]"
        add
        item-name="[[itemName]]"
        subitem-name="[[subitemName]]"
        items="[[items]]">
        <!--hidden="[[_notShowPrimary(primaryItemMenuName, items)]]">-->
      </zrickr-drawer-content-item>
      <zrickr-drawer-content-item
        icon="social:group"
        item-menu-name="[[secondaryItemMenuName]]"
        items="[[items]]">
        <!--hidden="[[_notShowSecondary(secondaryItemMenuName, items)]]">-->
      </zrickr-drawer-content-item>
    </paper-menu>

    <paper-menu class="secondary">
      <zrickr-drawer-content-item
        icon="icons:settings"
        item-menu-name="Settings">
      </zrickr-drawer-content-item>
      <zrickr-drawer-content-item
        icon="icons:delete"
        item-menu-name="Recycle Bin">
      </zrickr-drawer-content-item>
      <zrickr-drawer-content-item
        icon="icons:help"
        item-menu-name="Help and Suggestions">
      </zrickr-drawer-content-item>
    </paper-menu>

  </template>
</dom-module>

<script>
(function() {

  Polymer({

    is: "zrickr-drawer-content",

    properties: {
      /**
       * Indicate the new password that the user wants to change
       */
      newPassword: {
        type: String,
        value: '',
      },
      /**
       * Primary items menu title
       */
      primaryItemMenuName: {
        type: String,
        value: 'My Items',
        readonly: true
      },
      /**
       * Secondary items menu title
       */
      secondaryItemMenuName: {
        type: String,
        value: '',
        readonly: true
      },
      /**
       * Title of a item in singular
       */
      itemName: {
        type: String,
        value: 'item',
        readonly: true
      },
      /**
       * Title of a subitem in singular
       */
      subitemName: {
        type: String,
        value: 'subitem',
        readonly: true
      },
      /**
       * Array of main items
       */
      items: {
        type: Array,
        readonly: true
      }
    },

    /**
     * Calculate if not should be the primary menu item
     * @return {boolean} Condition to appear the primary menu
     */
    _notShowPrimary(primaryItemMenuName, items) {
      console.log(items);
      console.log(this.items);
      console.log(items.length);
      return (!this.items.length || !primaryItemMenuName);
    },

    /**
     * Calculate if not should be the secondary menu item
     * @return {boolean} Condition to appear the secondary menu
     */
    _notShowSecondary(secondaryItemMenuName, items) {
      console.log(items);
      console.log(items.length);
      return (!this.items.length || !secondaryItemMenuName);
    }

  });
})();
</script>
