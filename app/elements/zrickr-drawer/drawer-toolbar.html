<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/paper-icon-button/paper-icon-button.html">
<link rel="import" href="../../bower_components/paper-toolbar/paper-toolbar.html">
<link rel="import" href="../../bower_components/paper-menu/paper-menu.html">
<link rel="import" href="../../bower_components/paper-menu/paper-submenu.html">
<link rel="import" href="../../bower_components/paper-item/paper-item.html">
<link rel="import" href="../../bower_components/iron-icons/iron-icons.html">
<link rel="import" href="../../bower_components/iron-icons/social-icons.html">
<link rel="import" href="../../bower_components/iron-icons/image-icons.html">
<link rel="import" href="../../bower_components/iron-icon/iron-icon.html">
<link rel="import" href="../../bower_components/iron-flex-layout/iron-flex-layout-classes.html">

<dom-module id="zrickr-drawer">
  <style include="iron-flex iron-flex-alignment">
  </style>

  <template>
    <paper-toolbar id="drawerToolbar">
      <span id="userName" class="flex"></span>
    </paper-toolbar>
    <paper-menu id="drawerContent">
      <paper-submenu>
        <paper-item class="menu-trigger">
          <paper-icon-button icon="image:view-comfy"></paper-icon-button>
          <span>My Collections</span>
        </paper-item>
        <paper-menu class="menu-content">
          <paper-item>Collection 1</paper-item>
          <paper-item>Collection 2</paper-item>
        </paper-menu>
      </paper-submenu>
      <paper-submenu>
        <paper-item class="menu-trigger">
          <paper-icon-button icon="social:group"></paper-icon-button>
          <span>My Shared Collections</span>
        </paper-item>
        <paper-menu class="menu-content">
          <paper-item>SCol 1</paper-item>
        </paper-menu>
      </paper-submenu>
      <paper-item on-tap="_editProfileTapped" class="layout horizontal center">
        <paper-icon-button icon="icons:perm-identity"></paper-icon-button>
        <span>Edit Profile</span>
      </paper-item>
      <paper-item on-tap="_logoutTapped" class="layout horizontal center">
        <paper-icon-button icon="icons:power-settings-new"></paper-icon-button>
        <span>Logout</span>
      </paper-item>
    </paper-menu>

  </template>
</dom-module>

<script>
(function() {

  Polymer({

    is: "zrickr-drawer",

    properties: {

      user: {
        type: Object,
        readonly: true
      }

    },

    attached() {
      let nameUser = this.$.userName;
      nameUser.innerHTML = this._getNameUser();
    },

    _getNameUser() {
      if (this.user.provider == "password") {
        return this.user.password.email;
      }
      else if (this.user.provider == "google") {
        return "google";
      }
      return "";
    },

    _logoutTapped() {
      console.log(this.user);
      //this.fire('logout-tapped');
    }
  });

})();
</script>
