<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/paper-dialog/paper-dialog.html">
<link rel="import" href="../../bower_components/paper-button/paper-button.html">
<link rel="import" href="../../bower_components/paper-radio-group/paper-radio-group.html">
<link rel="import" href="../../bower_components/paper-radio-button/paper-radio-button.html">
<link rel="import" href="../../bower_components/iron-flex-layout/iron-flex-layout-classes.html">
<link rel="import" href="collection-header-dialog.html">

<dom-module id="collection-new-dialog">
  <template>
    <style include="iron-flex iron-flex-alignment">
      :host {
        --iron-icon-fill-color: var(--paper-amber-900);
      }

      paper-dialog {
        padding: 0 30px 10px 30px;
      }

      paper-radio-group {
        margin: 16px auto 16px auto;
      }

      paper-radio-group {
        font-size: 18px;
        font-weight: bold;
      }

    </style>

    <paper-dialog modal id="dialog" class="layout vertical">
      <collection-header-dialog
        name="New Collection"
        current-step="1"
        number-steps="4">
      </collection-header-dialog>
      <paper-radio-group id="options" selected="{{selected}}" class="layout vertical">
        <paper-radio-button noink name="custom-check">
          <div class="layout horizontal center">
            <span>Custom Collection</span>
          </div>
        </paper-radio-button>
        <paper-radio-button noink name="users-check">
          <div class="layout horizontal center">
            <span>From other users</span>
          </div>
        </paper-radio-button>
      </paper-radio-group>
      <div class="buttons">
        <paper-button label="Cancel" dialog-dismiss>Cancel</paper-button>
        <paper-button label="Next" dialog-confirm>Next</paper-button>
      </div>
    </paper-dialog>

  </template>
</dom-module>

<script>
(function() {
  'use strict';

  Polymer({

    is: "collection-new-dialog",

    properties: {

      selected: {
        type: String,
        value: 'custom-check',
      },

    },

    listeners: {
      'iron-overlay-closed': '_newCollectionDialogClosed',
    },

    _newCollectionDialogClosed(event) {
      if (event.detail.confirmed) {
        let params = {};
        let itemSelected = this.$.options.selectedItem;
        params.optionSelected = itemSelected.name;
        this.fire('new-collection-dialog-next-tapped', params);
      }
    },

    toggle() {
      this.$.dialog.toggle();
    },

  });
}());
</script>
