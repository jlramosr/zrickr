<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/paper-icon-button/paper-icon-button.html">
<link rel="import" href="../../bower_components/paper-toolbar/paper-toolbar.html">
<link rel="import" href="../../bower_components/paper-menu/paper-menu.html">
<link rel="import" href="../../bower_components/paper-menu-button/paper-menu-button.html">
<link rel="import" href="../../bower_components/paper-item/paper-item.html">
<link rel="import" href="../../bower_components/paper-drawer-panel/paper-drawer-panel.html">
<link rel="import" href="../../bower_components/paper-scroll-header-panel/paper-scroll-header-panel.html">
<link rel="import" href="../../bower_components/iron-icons/iron-icons.html">
<link rel="import" href="../../bower_components/iron-icons/social-icons.html">
<link rel="import" href="../../bower_components/iron-icons/image-icons.html">
<link rel="import" href="../../bower_components/iron-icon/iron-icon.html">
<link rel="import" href="../../bower_components/iron-flex-layout/iron-flex-layout-classes.html">

<dom-module id="toolbar-main">
  <style include="iron-flex iron-flex-alignment">
    paper-header-panel {
      --paper-header-panel-shadow: {
        height: 6px;
        bottom: -6px;
        box-shadow: inset 0px 5px 6px -3px rgba(0, 0, 0, 0.4);
      };
      --paper-header-panel-standard-container: {
        border: 1px solid gray;
      };

      --paper-header-panel-seamed-container: {
        border: 1px solid gray;
      };

      --paper-header-panel-waterfall-container: {
        border: 1px solid gray;
      };

      --paper-header-panel-waterfall-tall-container: {
        border: 1px solid gray;
      };

      --paper-header-panel-scroll-container: {
        border: 1px solid gray;
      };

      --paper-header-panel-cover-container: {
        border: 1px solid gray;
      };
    }

    paper-icon-button {
      margin: 0px;
    }

  </style>

  <template>
    <paper-drawer-panel>
        <!-- Drawer -->
        <paper-scroll-header-panel drawer fixed>
          <!-- Drawer Toolbar -->
          <paper-toolbar id="drawerToolbar">
            <span id="nameUser" class="flex"></span>
          </paper-toolbar>
          <!-- Drawer Content -->
          <paper-menu>
            <paper-submenu on-tap="closeM" id="submenu">
              <paper-item class="menu-trigger">Faves</paper-item>
              <paper-menu class="menu-content">
                <paper-item>Fave 1</paper-item>
                <paper-item>Fave 2</paper-item>
              </paper-menu>
            </paper-menu>
            <paper-item on-tap="" class="layout horizontal center">
              <paper-icon-button icon="image:view-comfy"></paper-icon-button>
              <span>My Collections</span>
            </paper-item>
            <paper-item on-tap="" class="layout horizontal center">
              <paper-icon-button icon="social:group"></paper-icon-button>
              <span>My Shared Collections</span>
            </paper-item>
            <paper-item on-tap="_editProfileTapped" class="layout horizontal center">
              <paper-icon-button icon="icons:perm-identity"></paper-icon-button>
              <span>Edit Profile</span>
            </paper-item>
            <paper-item on-tap="_logoutTapped" class="layout horizontal center">
              <paper-icon-button icon="icons:power-settings-new"></paper-icon-button>
              <span>Logout</span>
            </paper-item>
          </paper-menu>
        </paper-scroll-header-panel>
        <!-- Main -->
        <paper-scroll-header-panel main id="headerPanelMain" condenses keep-condensed-header>
          <paper-toolbar class="layout horizontal end-justified">
            <paper-icon-button ont-tap="" icon="icons:settings"><paper-icon-button/>
            <paper-icon-button ont-tap="" icon="icons:settings"><paper-icon-button/>
          </paper-toolbar>
        </paper-scroll-header-panel>
    </paper-drawer-panel>


  </template>
</dom-module>

<script>
(function() {

  Polymer({

    is: "toolbar-main",

    properties: {

      user: {
        type: Object,
        readonly: true
      }

    },

    closeM() {
      alert("HOLA");
      this.$.submenu.close();
    },

    attached() {
      let nameUser = this.$.nameUser;
      nameUser.innerHTML = this._getNameUser();
    },

    _getNameUser() {
      if (this.user.provider == "password") {
        return this.user.password.email;
      }
      else if (this.user.provider == "google") {
        return "google";
      }
      return "";
    },

    _logoutTapped() {
      console.log(this.user);
      //this.fire('logout-tapped');
    }
  });

})();
</script>
