<link rel="import" href="bower_components/polymer/polymer.html">
<link rel="import" href="bower_components/paper-dialog/paper-dialog.html">
<link rel="import" href="bower_components/paper-button/paper-button.html">
<link rel="import" href="bower_components/paper-input/paper-input.html">
<link rel="import" href="bower_components/paper-radio-group/paper-radio-group.html">
<link rel="import" href="bower_components/paper-radio-button/paper-radio-button.html">
<link rel="import" href="bower_components/paper-checkbox/paper-checkbox.html">
<link rel="import" href="bower_components/iron-icons/image-icons.html">
<link rel="import" href="bower_components/iron-icons/social-icons.html">
<link rel="import" href="bower_components/iron-flex-layout/iron-flex-layout-classes.html">

<dom-module id="new-collection-element">
  <template>
    <style include="iron-flex iron-flex-alignment">
      :host {
        --iron-icon-fill-color: var(--paper-amber-700);
      }

      paper-dialog {
        padding-left: 20px;
      }

      iron-icon {
        margin-right: 2px;
        margin-left: 4px;
      }

      #fields paper-input {
        margin-right: 16px;
      }


    </style>

    <iron-ajax
      auto
      url="bd/collections.json"
      handle-as="json"
      last-response="{{ajaxResponsePublicCollections}}">
    </iron-ajax>

    <paper-dialog id="dialog" class="layout vertical">
      <h1>New Collection</h1>
      <paper-dialog-scrollable>
        <div class="layout horizontal center">
          <paper-checkbox checked>
            <div class="layout horizontal center">
              <iron-icon icon="image:edit"></iron-icon>
              <h3>CUSTOM COLLECTION</h3>
            </div>
          </paper-checkbox>
        </div>
        <div id="fields" class="layout horizontal center">
          <paper-input label="Field" value="{{name}}"></paper-input>
          <paper-input label="Type" value="{{type}}"></paper-input>
          <paper-icon-button  class="layout left center"
                              icon="icons:add-circle"
                              on-tap="_addNewField">
          </paper-icon-button>
        </div>
      </paper-dialog-scrollable>
      <paper-dialog-scrollable>
        <div class="layout horizontal center">
          <paper-checkbox disabled>
            <div class="layout horizontal center">
              <iron-icon icon="image:photo-size-select-small"></iron-icon>
              <h3>FROM OTHER USERS</h3>
            </div>
          </paper-checkbox>
        </div>
        <div>
          <paper-radio-group attr-for-selected="name">
            <template is="dom-repeat" items="[[ajaxResponsePublicCollections]]">
              <paper-radio-button name="{{item.name}}">
                <div class="layout vertical center">
                  {{item.name}} by {{item._user}} user
                </div>
              </paper-radio-button>
            </template>
          </paper-radio-group>
        </div>
      </paper-dialog-scrollable>
      <paper-dialog-scrollable>
        <div class="layout horizontal center">
          <div class="layout horizontal center">
            <iron-icon icon="social:share"></iron-icon>
            <h3>SHARE WITH</h3>
          </div>
        </div>
      </paper-dialog-scrollable>
      <div class="buttons">
        <paper-button label="More Info..." dismissive>More Info...</paper-button>
        <paper-button label="Cancel" affirmative>Cancel</paper-button>
        <paper-button label="Create" affirmative autofocus>Create</paper-button>
      </div>
    </paper-dialog>

  </template>
</dom-module>

<script>
(function() {
  'use strict';

  Polymer({

    is: "new-collection-element",

    created() {
      console.log(this.localName + '#' + this.id + ' was created');
    },

    ready() {
      console.log(this.localName + '#' + this.id + ' has local DOM initialized');
    },

    attached() {
      console.log(this.localName + '#' + this.id + ' was attached');
    },

    detached() {
      console.log(this.localName + '#' + this.id + ' was detached');
    },

    attributeChanged(name, type) {
      console.log(this.localName + '#' + this.id + ' attribute ' + name +
        ' was changed to ' + this.getAttribute(name));
    },

    toggle() {
      this.$.dialog.toggle();
    }

  });
}());
</script>
